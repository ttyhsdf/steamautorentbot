# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ Telegram API - –ó–ê–í–ï–†–®–ï–ù–û

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:

### **"message is not modified"** ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞:** `A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message`

**–ü—Ä–∏—á–∏–Ω–∞:** Telegram API –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–º –∂–µ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π.

## üöÄ –†–µ—à–µ–Ω–∏–µ:

–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ "message is not modified" –≤–æ **–≤—Å–µ –º–µ—Ç–æ–¥—ã** Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

### üìä **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

#### 1. **`_show_lots_menu()`** - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ª–æ—Ç–æ–≤
```python
try:
    self.bot.edit_message_text(...)
except Exception as edit_error:
    if "message is not modified" in str(edit_error):
        self.bot.answer_callback_query(call.id, "‚úÖ –ú–µ–Ω—é –∞–∫—Ç—É–∞–ª—å–Ω–æ")
    else:
        raise edit_error
```

#### 2. **`_show_lots_stats()`** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–æ—Ç–æ–≤
```python
try:
    self.bot.edit_message_text(...)
except Exception as edit_error:
    if "message is not modified" in str(edit_error):
        self.bot.answer_callback_query(call.id, "‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞")
    else:
        raise edit_error
```

#### 3. **`_raise_lots()`** - –ü–æ–¥–Ω—è—Ç–∏–µ –ª–æ—Ç–æ–≤
```python
try:
    self.bot.edit_message_text(...)
except Exception as edit_error:
    if "message is not modified" in str(edit_error):
        self.bot.answer_callback_query(call.id, "‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–∫—Ç—É–∞–ª–µ–Ω")
    else:
        raise edit_error
```

#### 4. **`_start_auto_raise()`** - –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏—è
```python
try:
    self.bot.edit_message_text(...)
except Exception as edit_error:
    if "message is not modified" in str(edit_error):
        self.bot.answer_callback_query(call.id, "‚úÖ –ê–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ")
    else:
        raise edit_error
```

#### 5. **`_stop_auto_raise()`** - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏—è
```python
try:
    self.bot.edit_message_text(...)
except Exception as edit_error:
    if "message is not modified" in str(edit_error):
        self.bot.answer_callback_query(call.id, "‚úÖ –ê–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ —É–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ")
    else:
        raise edit_error
```

#### 6. **`_refresh_lots_data()`** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```python
try:
    self.bot.edit_message_text(...)
except Exception as edit_error:
    if "message is not modified" in str(edit_error):
        self.bot.answer_callback_query(call.id, "‚úÖ –î–∞–Ω–Ω—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã")
    else:
        raise edit_error
```

## üõ°Ô∏è –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:

### ‚úÖ **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
1. **–ü—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å** —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `edit_message_text()`
2. **–õ–æ–≤–∏–º –æ—à–∏–±–∫—É** "message is not modified"
3. **–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ —Ç–æ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã
4. **–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É** –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è

### ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:**
- **–ù–µ—Ç –æ—à–∏–±–æ–∫** –≤ –ª–æ–≥–∞—Ö
- **–ü–æ–Ω—è—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **–ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –Ω–∞–∂–∞—Ç–∏—è—Ö

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚ùå `message is not modified` ‚Üí ‚úÖ Graceful handling
- ‚ùå –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö ‚Üí ‚úÖ –ß–∏—Å—Ç—ã–µ –ª–æ–≥–∏
- ‚ùå –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã ‚Üí ‚úÖ –ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- üîÑ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö
- üí¨ **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- üõ°Ô∏è **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö** –Ω–∞–∂–∞—Ç–∏–π
- üìä **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### ‚úÖ **–£–ª—É—á—à–µ–Ω–æ:**
- üöÄ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** Telegram API
- üéØ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**
- üîß **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- üìà **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏ FunPay —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:

- ‚úÖ **"–û–±–Ω–æ–≤–∏—Ç—å"** –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –ª–æ—Ç–æ–≤
- ‚úÖ **"–û–±–Ω–æ–≤–∏—Ç—å"** –≤ —Å—Ç–∞—Ç—É—Å–µ –ø–æ–¥–Ω—è—Ç–∏—è
- ‚úÖ **"–û–±–Ω–æ–≤–∏—Ç—å"** –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–¥–Ω—è—Ç–∏—è
- ‚úÖ **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–û—à–∏–±–∫–∞ "message is not modified" –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è!** üöÄ

## üí° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

### **–ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:**
- Telegram API –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
- –≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ API –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –Ω–∞–∂–∞—Ç–∏—è—Ö

### **–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—à–∏–±–∫—É "message is not modified"
- Graceful handling —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞!** üéâ
